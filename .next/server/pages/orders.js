"use strict";(()=>{var e={};e.id=984,e.ids=[984],e.modules={1674:(e,t,r)=>{r.r(t),r.d(t,{config:()=>f,default:()=>g,getServerSideProps:()=>P,getStaticPaths:()=>S,getStaticProps:()=>b,reportWebVitals:()=>_,routeModule:()=>A,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>v});var s={};r.r(s),r.d(s,{default:()=>OrdersPage});var a=r(7093),l=r(5244),i=r(1323),d=r(4003),n=r(9597),c=r(997),o=r(597),p=r(6689),u=r(2167),h=r.n(u),x=r(6979),m=r(1664),j=r.n(m);function OrdersPage(){let[e,t]=(0,p.useState)([]),[r,s]=(0,p.useState)([]),[a,l]=(0,p.useState)(!1);(0,p.useEffect)(()=>{l(!0),h().get("/api/orders").then(e=>{t(e.data),l(!1)})},[]),(0,p.useEffect)(()=>{h().get("/api/products").then(e=>{s(e.data)})},[]);let getProductDetails=e=>{let t=r.find(t=>t._id===e);return t||{}};return(0,c.jsxs)(o.Z,{children:[c.jsx("h3",{className:"uppercase grey_text",children:"Orders"}),(0,c.jsxs)("div",{className:"mb-10",children:[c.jsx("h4",{className:"uppercase grey_text font-light",children:"Stripe"}),(0,c.jsxs)("div",{className:"flex flex-row items-start gap-[15px]",children:[c.jsx("button",{className:"bg-black p-2 rounded-lg text-white w-[15rem]",children:c.jsx(j(),{target:"_blank",href:"https://dashboard.stripe.com/payments",children:"See Stripe Orders"})}),c.jsx("button",{className:"bg-black p-2 rounded-lg text-white w-[15rem]",children:c.jsx(j(),{href:"https://dashboard.stripe.com/balance/overview",children:"See Stripe Balance"})}),c.jsx("button",{className:"bg-black p-2 rounded-lg text-white w-[15rem]",children:c.jsx(j(),{href:"https://dashboard.stripe.com/customers",children:"See Stripe Clients"})})]})]}),(0,c.jsxs)("table",{className:"basic",children:[c.jsx("thead",{children:(0,c.jsxs)("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Payment Status"}),c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Products"})]})}),c.jsx("tbody",{children:a?c.jsx("tr",{children:c.jsx("td",{colSpan:4,children:c.jsx("div",{className:"py-4",children:c.jsx(x.Z,{fullWidth:!0})})})}):e.map((e,t)=>(0,c.jsxs)("tr",{className:t%2==0?"bg-gray-100":"bg-gray-200",children:[c.jsx("td",{children:new Date(e.createdAt).toLocaleString()}),c.jsx("td",{className:e.paid?"text-green-600":"text-red-600",children:e.paid?"Yes":"No"}),(0,c.jsxs)("td",{children:[(0,c.jsxs)("p",{children:["Name : ",e.name," "]}),(0,c.jsxs)("p",{children:["Email Adress: ",e.email," "]}),(0,c.jsxs)("p",{children:["Phone Number : ",e.phone]}),(0,c.jsxs)("p",{children:["City : ",e.city]}),(0,c.jsxs)("p",{children:["Postal Code : ",e.postalCode]}),(0,c.jsxs)("p",{children:["County : ",e.country," "]}),(0,c.jsxs)("p",{children:["Adress : ",e.streetAddress," "]})]}),c.jsx("td",{children:e.line_items.map((e,t)=>{let r=getProductDetails(e.productId);return(0,c.jsxs)("div",{className:"border border-black p-2 mb-2",children:[(0,c.jsxs)("p",{children:["Product Name: ",r.title]}),(0,c.jsxs)("p",{children:["Quantity : ",e.quantity]}),e.selectedValues&&e.selectedValues.length>0?e.selectedValues.map((e,t)=>(0,c.jsxs)("p",{children:["Option ",t+1,": ",e.value]},t)):c.jsx("p",{children:"No selected values"})]},t)})})]},e._id))})]})]})}let g=(0,i.l)(s,"default"),b=(0,i.l)(s,"getStaticProps"),S=(0,i.l)(s,"getStaticPaths"),P=(0,i.l)(s,"getServerSideProps"),f=(0,i.l)(s,"config"),_=(0,i.l)(s,"reportWebVitals"),v=(0,i.l)(s,"unstable_getStaticProps"),N=(0,i.l)(s,"unstable_getStaticPaths"),y=(0,i.l)(s,"unstable_getStaticParams"),w=(0,i.l)(s,"unstable_getServerProps"),q=(0,i.l)(s,"unstable_getServerSideProps"),A=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/orders",pathname:"/orders",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:s})},6979:(e,t,r)=>{r.d(t,{Z:()=>Spinner});var s=r(997);let a=require("react-spinners");function Spinner({fullWidth:e}){return e?s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(a.PulseLoader,{color:"#1E3A8A",speedMultiplier:2})}):s.jsx(a.PulseLoader,{color:"#1E3A8A",speedMultiplier:2})}},2167:e=>{e.exports=require("axios")},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[859,450,201,263,163,493,597],()=>__webpack_exec__(1674));module.exports=r})();