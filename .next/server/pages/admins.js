"use strict";(()=>{var e={};e.id=607,e.ids=[607],e.modules={5283:(e,t,r)=>{r.r(t),r.d(t,{config:()=>b,default:()=>h,getServerSideProps:()=>S,getStaticPaths:()=>j,getStaticProps:()=>g,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>_});var a={};r.r(a),r.d(a,{default:()=>admins});var s=r(7093),i=r(5244),n=r(1323),l=r(4003),d=r(9597),o=r(997),c=r(597),u=r(6689),p=r(2167),m=r.n(p),x=r(6979);let admins=function(){let[e,t]=(0,u.useState)(""),[r,a]=(0,u.useState)([]),[s,i]=(0,u.useState)(!1);function loadAdmins(){i(!0),m().get("/api/admins").then(e=>{a(e.data),i(!1)})}return(0,u.useEffect)(()=>{loadAdmins()},[]),(0,o.jsxs)(c.Z,{children:[o.jsx("h3",{className:"uppercase grey_text",children:"Administratori"}),o.jsx("h4",{className:"uppercase grey_text",children:"Adaugă un administrator nou"}),o.jsx("form",{onSubmit:function(r){r.preventDefault(),m().post("/api/admins",{email:e}).then(e=>{console.log(e.data),alert("Admin created!"),t(""),loadAdmins()}).catch(e=>{alert(`Error!
${e.response.data.message}`)})},children:(0,o.jsxs)("div",{className:"flex gap-2 mt-10",children:[o.jsx("input",{type:"text",className:"mb-0 w-[15rem]",value:e,onChange:e=>t(e.target.value),placeholder:"Google Email"}),o.jsx("button",{type:"submit",className:"btn-primary py-1 whitespace-nowrap rounded-lg",children:"Adaugă administrator"})]})}),o.jsx("h4",{className:"uppercase grey_text mt-10",children:"Administratori existenți"}),(0,o.jsxs)("table",{className:"basic ",children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{className:"text-left",children:"Adresă G-Mail administrator"}),o.jsx("th",{}),o.jsx("th",{})]})}),(0,o.jsxs)("tbody",{children:[s&&o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("div",{className:"py-4",children:o.jsx(x.Z,{fullWidth:!0})})})}),r.length>0&&r.map(e=>{var t;return(0,o.jsxs)("tr",{children:[o.jsx("td",{children:e.email}),o.jsx("td",{children:e.createdAt&&(t=e.createdAt,new Date(t).toLocaleString("sv-SE"))}),o.jsx("td",{children:o.jsx("button",{onClick:()=>(function(e,t){let r=window.confirm(`Do you want to delete admin ${t}?`);r&&m().delete("/api/admins?_id="+e).then(()=>{alert("Admin deleted!"),loadAdmins()})})(e._id,e.email),className:"btn-red",children:"Șterge"})})]},e._id)})]})]})]})},h=(0,n.l)(a,"default"),g=(0,n.l)(a,"getStaticProps"),j=(0,n.l)(a,"getStaticPaths"),S=(0,n.l)(a,"getServerSideProps"),b=(0,n.l)(a,"config"),f=(0,n.l)(a,"reportWebVitals"),_=(0,n.l)(a,"unstable_getStaticProps"),v=(0,n.l)(a,"unstable_getStaticPaths"),P=(0,n.l)(a,"unstable_getStaticParams"),A=(0,n.l)(a,"unstable_getServerProps"),q=(0,n.l)(a,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admins",pathname:"/admins",bundlePath:"",filename:""},components:{App:d.default,Document:l.default},userland:a})},6979:(e,t,r)=>{r.d(t,{Z:()=>Spinner});var a=r(997);let s=require("react-spinners");function Spinner({fullWidth:e}){return e?a.jsx("div",{className:"w-full flex justify-center",children:a.jsx(s.PulseLoader,{color:"#1E3A8A",speedMultiplier:2})}):a.jsx(s.PulseLoader,{color:"#1E3A8A",speedMultiplier:2})}},2167:e=>{e.exports=require("axios")},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[859,450,201,263,163,493,597],()=>__webpack_exec__(5283));module.exports=r})();