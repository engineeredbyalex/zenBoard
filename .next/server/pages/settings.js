"use strict";(()=>{var e={};e.id=662,e.ids=[662],e.modules={6747:(e,t,a)=>{a.r(t),a.d(t,{config:()=>f,default:()=>x,getServerSideProps:()=>v,getStaticPaths:()=>h,getStaticProps:()=>S,reportWebVitals:()=>m,routeModule:()=>q,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>P});var r={};a.r(r),a.d(r,{default:()=>SettingsPage});var s=a(7093),i=a(5244),l=a(1323),n=a(4003),u=a(9597),o=a(997),c=a(597),p=a(6689),d=a(2167),g=a.n(d);function SettingsPage(){let[e,t]=(0,p.useState)([]),[a,r]=(0,p.useState)(""),[s,i]=(0,p.useState)(!1),[l,n]=(0,p.useState)("");async function fetchAll(){try{let e=await g().get("/api/products");t(e.data);let a=await g().get("/api/settings?name=featuredProductId");r(a.data.value);let s=await g().get("/api/settings?name=shippingFee");n(s.data.value)}catch(e){console.error("Error in fetchAll:",e)}}async function saveSettings(){i(!0),await g().put("/api/settings",{name:"featuredProductId",value:a}),await g().put("/api/settings",{name:"shippingFee",value:l}),i(!1),window.alert("Settings saved!")}return(0,p.useEffect)(()=>{i(!0),fetchAll().then(()=>{i(!1)})},[]),(0,o.jsxs)(c.Z,{children:[o.jsx("h3",{className:"uppercase grey_text",children:"Setări"}),s&&o.jsx("div",{}),!s&&(0,o.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,o.jsxs)("div",{className:"flex flex-row gap-10",children:[o.jsx("label",{children:"Produs principal"}),o.jsx("select",{value:a,onChange:e=>r(e.target.value),children:e.length>0&&e.map(e=>o.jsx("option",{value:e._id,children:e.title},e._id))})]}),(0,o.jsxs)("div",{className:"flex flex-row gap-10",children:[o.jsx("label",{children:"Transport (in RON)"}),o.jsx("input",{type:"number",value:l,onChange:e=>n(e.target.value)})]}),o.jsx("div",{children:o.jsx("button",{onClick:saveSettings,className:"btn-primary rounded-lg",children:"Salvează"})})]})]})}let x=(0,l.l)(r,"default"),S=(0,l.l)(r,"getStaticProps"),h=(0,l.l)(r,"getStaticPaths"),v=(0,l.l)(r,"getServerSideProps"),f=(0,l.l)(r,"config"),m=(0,l.l)(r,"reportWebVitals"),P=(0,l.l)(r,"unstable_getStaticProps"),_=(0,l.l)(r,"unstable_getStaticPaths"),b=(0,l.l)(r,"unstable_getStaticParams"),j=(0,l.l)(r,"unstable_getServerProps"),w=(0,l.l)(r,"unstable_getServerSideProps"),q=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:u.default,Document:n.default},userland:r})},2167:e=>{e.exports=require("axios")},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[859,450,201,263,163,493,597],()=>__webpack_exec__(6747));module.exports=a})();