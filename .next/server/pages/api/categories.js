"use strict";(()=>{var e={};e.id=957,e.ids=[957],e.modules={166:e=>{e.exports=require("@next-auth/mongodb-adapter")},8013:e=>{e.exports=require("mongodb")},1185:e=>{e.exports=require("mongoose")},3227:e=>{e.exports=require("next-auth")},3598:e=>{e.exports=require("next-auth/providers/google")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1272:(e,t,a)=>{a.r(t),a.d(t,{config:()=>m,default:()=>g,routeModule:()=>x});var r={};a.r(r),a.d(r,{default:()=>handle});var o=a(1802),i=a(7153),n=a(6249),d=a(1185),p=a.n(d);let s=new d.Schema({name:{type:String,required:!0},parent:{type:p().Types.ObjectId,ref:"Category"},properties:[{type:Object}]}),u=d.models?.Category||(0,d.model)("Category",s);var l=a(1022),c=a(9061);async function handle(e,t){let{method:a}=e;if(await (0,l.I)(),await (0,c.isAdminRequest)(e,t),"GET"===a&&t.json(await u.find().populate("parent")),"POST"===a){let{name:a,parentCategory:r,properties:o}=e.body,i=await u.create({name:a,parent:r||void 0,properties:o});t.json(i)}if("PUT"===a){let{name:a,parentCategory:r,properties:o,_id:i}=e.body,n=await u.updateOne({_id:i},{name:a,parent:r||void 0,properties:o});t.json(n)}if("DELETE"===a){let{_id:a}=e.query;await u.deleteOne({_id:a}),t.json("ok")}}let g=(0,n.l)(r,"default"),m=(0,n.l)(r,"config"),x=new o.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/categories",pathname:"/api/categories",bundlePath:"",filename:""},userland:r})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222,61],()=>__webpack_exec__(1272));module.exports=a})();